{"version":3,"sources":["component/person.js","services/persons.js","app.js","index.js"],"names":["Person","person","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","delete","object","put","Filter","handleFilter","onChange","PersonForm","addInfo","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","type","Persons","personsFilter","setPersons","map","onClick","window","confirm","personService","filter","item","deletePerson","App","useState","persons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","initialPersons","SuccessNotification","message","className","ErrorNotification","toLowerCase","includes","event","preventDefault","target","existedName","find","changeNumber","returnedPerson","setTimeout","catch","error","concat","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01668fc8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person }) => {\n  return (\n  <div>{person.name} {person.number}</div>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst put = object => {\n    const request = axios.put(`${baseUrl}/${object.id}`, {...object})\n    return request.then(response => response.data)\n}\n  \n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, deletePerson, put }","import React, { useState, useEffect } from 'react'\nimport Person from './component/person'\nimport personService from './services/persons'\n\nconst Filter = ({ handleFilter }) => {\n    return <div>Filter shown with: <input onChange={handleFilter}/></div>\n}\n\nconst PersonForm = ({ addInfo, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={addInfo}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nconst Persons = ({ personsFilter, setPersons }) => {\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)){\n      personService\n        .deletePerson(person.id)\n        .then(setPersons(personsFilter.filter(item => item.id !== person.id)))\n    }\n  }\n  return personsFilter.map(person => \n  <div key={person.name}><Person person={person} number={person}/> <button onClick={() => deletePerson(person)}>delete</button></div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState('Nothing happened...')\n  const [ errorMessage, setErrorMessage ] = useState('Nothing happened...')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n  \n  const ErrorNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  \n\n  const addInfo = (event) => {\n    event.preventDefault()\n    let existedName = persons.find(person => person.name === newName);\n    if (existedName) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const changeNumber = {...existedName,number:newNumber};\n        personService\n          .put(changeNumber)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === changeNumber.id ? returnedPerson : person))\n            setSuccessMessage(`Changed the number of ${returnedPerson.name} to ${returnedPerson.number} in the server.`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`The number of ${newName} has already been removed from the server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        }\n    } else {\n        const infoObject = {\n            name: newName,\n            number: newNumber\n          }\n        \n        personService\n        .create(infoObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setSuccessMessage(`Added the number of ${newName} to the server.`)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          alert(error)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    event.preventDefault();\n    setFilter(event.target.value.toLowerCase());\n  }\n\n  const personsFilter = persons.filter(person => person.name.toLowerCase().includes(filter));\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <Filter handleFilter={handleFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm addInfo={addInfo} newName={newName} handleNameChange={handleNameChange} \n      newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Persons personsFilter={personsFilter} setPersons={setPersons}/> \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n/*\nconst persons = [\n  { name: 'Arto Hellas', number: '040-123456' },\n  { name: 'Ada Lovelace', number: '39-44-5323523' },\n  { name: 'Dan Abramov', number: '12-43-234345' },\n  { name: 'Mary Poppendieck', number: '39-23-6423122' }\n]\n\nReactDOM.render(\n  <App persons={persons} />,\n  document.getElementById('root')\n)*/"],"sourceRoot":""}